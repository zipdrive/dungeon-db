<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/src/styles.css" />
    <title>StaticDB</title>
    <script type="module">
        import { invoke } from "@tauri-apps/api/core";

        function createTable() {
            invoke("create_table", {
                name: 'Default Table Name'
            });
            invoke("dialog_close", {});
        }

        function cancel() {
            invoke("dialog_close", {});
        }

        // Add initial listeners
        window.addEventListener("DOMContentLoaded", () => {
            document.querySelector('#create-table-button')?.addEventListener("click", createTable);
            document.querySelector('#cancel-create-table-button')?.addEventListener("click", cancel);
        });
    </script>
  </head>

  <body>
    <form>
        <table>
            <tr>
                <td>Table Name:</td>
                <td><input name="tableName" type="text" /></td>
            </tr>
        </table>
        <div class="dialog-buttons">
            <button id="create-table-button">Create Table</button>
            <button id="cancel-create-table-button">Cancel</button>
        </div>
    </form>
  </body>
</html>
